<?php 
$text2 = '                APOTEK SIDAPURNA                
      Jl. Sumber Bawang RT. 26/3 Sidapurna      
                 Kab. Tegal - -                 
------------------------------------------------
Kasir: mutaharoh .                              
Ref. : SALE/POS2023/08/7079                     
Tgl  : 2023-08-02 10:09:00                      
Cust : APOTEK CABAWAN                           
------------------------------------------------
MIRASIC SYR 60ML (OBS158)
1 Botol x 5,245                            5,245
PIM TRA KOL SYR 60ML  (OBT108)
5 Botol x 12,132                          60,660
PARATUSIN SYR 60ML (OBT105)
1 Botol x 30,200                          30,200
PARACETAMOL SYR 60ML (OBS196)
1 Botol x 3,026                            3,026
OBH COMBI ANAK 60ML JERUK STRAW (OBS181)
1 Botol x 13,875                          13,875
FRESH CARE ALL (HBL068)
5 Botol x 10,250                          51,250
GANDAPURA 30ML (HBL073)
2 Botol x 7,050                           14,100
GPU SEREH 30ML (HBL081)
6 Botol x 7,500                           45,000
NEO RHEUMACYL (OBS169)
60 Tablet x 390                           23,400
BDL PAPAYA SOAP  128GR (KSM008)
1 Pcs x 9,750                              9,750
GIV BAR SOAP 76GR ALL (PKR137)
3 Pcs x 2,450                              7,350
SANMOL DROP 15ML (OBS247)
1 Botol x 17,000                          17,000
DETTOL SOAP 60GR  ALL (PKR111)
1 Pcs x 3,500                              3,500
OMESTAN SYR 60ML (OKR218)
1 Botol x 5,295                            5,295
KODOMO POWD 200GR (PKR452)
1 Pcs x 8,073                              8,073
DECOLSIN (OBT039)
8 Strip x 2,200                           17,600
KOMIX Herbal SCH (OBS133)
4 Sachet x 1,500                           6,000
CERELAC SCH (24895440)
4 Pcs x 2,500                             10,000
MICROGYNON (OBT084)
5 Strip x 16,150                          80,750
BYE BYE FEVER BAYI (ALK002)
6 Pcs x 5,802                             34,812
MY BABY POWDER 100GR ALL VARIANS (KSM136)
4 Botol x 6,750                           27,000
CUSSONS POWD 200GR ALL (KSM049)
1 Pcs x 11,000                            11,000
EMINA BRIGHT STUFF FF (KSM275)
1 Tube x 14,400                           14,400
VIVA FC TONIC ALL (KSM210)
2 Botol x 5,158                           10,316
VIVA AIR MAWAR (KSM207)
2 Botol x 4,750                            9,500
BETADINE SOL 5ML (OBS020)
3 Botol x 4,920                           14,760
RINSO MOLTO 38ml (OBT2212140001)
5 Sachet x 825                             4,125
ULTRAFLU (OBT132)
10 Strip x 2,850                          28,500
CATAFLAM 50MG (OKR038)
10 Tablet x 5,845                         58,450
TOLAK ANGIN DEWASA (HBL242)
12 Pcs x 3,005                            36,060
ZENSODERM CR (OKR292)
3 Tube x 4,571                            13,713
TISSU MAGIC (ALK058)
2 Pcs x 10,000                            20,000
CALLUSOL 10ML (OKR035)
1 Botol x 26,000                          26,000
SGM 1+ 150GR MADU-VANILA (PKR342)
1 Pcs x 14,500                            14,500
JAJAN CHIKI TWIST (SNK014)
3 Pcs x 3,050                              9,150
OISHI PANCHOS SAPI PANGGANG (OBT2212060001)
1 Pcs x 9,600                              9,600
BETADINE FEMININE 60ML (OBS015)
1 Botol x 27,150                          27,150
VIXAL 160ML BIRU (PKR436)
1 Botol x 4,267                            4,267
GURI BEE (OBT2205290002)
2 Pcs x 5,980                             11,960
------------------------------------------------
TOTAL                                    797,337
GRAND TOTAL                              885,044
------------------------------------------------
BAYAR                                    797,337
KEMBALI                                        0
BAYAR                                     87,707
KEMBALI                                        0
------------------------------------------------
    Terima Kasih sudah berbelanja di sini ;)    
MIRASIC SYR 60ML (OBS158)
1 Botol x 5,245                            5,245
PIM TRA KOL SYR 60ML  (OBT108)
5 Botol x 12,132                          60,660
PARATUSIN SYR 60ML (OBT105)
1 Botol x 30,200                          30,200
PARACETAMOL SYR 60ML (OBS196)
1 Botol x 3,026                            3,026
OBH COMBI ANAK 60ML JERUK STRAW (OBS181)
1 Botol x 13,875                          13,875
FRESH CARE ALL (HBL068)
5 Botol x 10,250                          51,250
GANDAPURA 30ML (HBL073)
2 Botol x 7,050                           14,100
GPU SEREH 30ML (HBL081)
6 Botol x 7,500                           45,000
NEO RHEUMACYL (OBS169)
60 Tablet x 390                           23,400
BDL PAPAYA SOAP  128GR (KSM008)
1 Pcs x 9,750                              9,750
GIV BAR SOAP 76GR ALL (PKR137)
3 Pcs x 2,450                              7,350
SANMOL DROP 15ML (OBS247)
1 Botol x 17,000                          17,000
DETTOL SOAP 60GR  ALL (PKR111)
1 Pcs x 3,500                              3,500
OMESTAN SYR 60ML (OKR218)
1 Botol x 5,295                            5,295
KODOMO POWD 200GR (PKR452)
1 Pcs x 8,073                              8,073
DECOLSIN (OBT039)
8 Strip x 2,200                           17,600
KOMIX Herbal SCH (OBS133)
4 Sachet x 1,500                           6,000
CERELAC SCH (24895440)
4 Pcs x 2,500                             10,000
MICROGYNON (OBT084)
5 Strip x 16,150                          80,750
BYE BYE FEVER BAYI (ALK002)
6 Pcs x 5,802                             34,812
MY BABY POWDER 100GR ALL VARIANS (KSM136)
4 Botol x 6,750                           27,000
CUSSONS POWD 200GR ALL (KSM049)
1 Pcs x 11,000                            11,000
EMINA BRIGHT STUFF FF (KSM275)
1 Tube x 14,400                           14,400
VIVA FC TONIC ALL (KSM210)
2 Botol x 5,158                           10,316
VIVA AIR MAWAR (KSM207)
2 Botol x 4,750                            9,500
BETADINE SOL 5ML (OBS020)
3 Botol x 4,920                           14,760
RINSO MOLTO 38ml (OBT2212140001)
5 Sachet x 825                             4,125
ULTRAFLU (OBT132)
10 Strip x 2,850                          28,500
CATAFLAM 50MG (OKR038)
10 Tablet x 5,845                         58,450
TOLAK ANGIN DEWASA (HBL242)
12 Pcs x 3,005                            36,060
ZENSODERM CR (OKR292)
3 Tube x 4,571                            13,713
TISSU MAGIC (ALK058)
2 Pcs x 10,000                            20,000
CALLUSOL 10ML (OKR035)
1 Botol x 26,000                          26,000
SGM 1+ 150GR MADU-VANILA (PKR342)
1 Pcs x 14,500                            14,500
JAJAN CHIKI TWIST (SNK014)
3 Pcs x 3,050                              9,150
OISHI PANCHOS SAPI PANGGANG (OBT2212060001)
1 Pcs x 9,600                              9,600
BETADINE FEMININE 60ML (OBS015)
1 Botol x 27,150                          27,150
VIXAL 160ML BIRU (PKR436)
1 Botol x 4,267                            4,267
GURI BEE (OBT2205290002)
2 Pcs x 5,980                             11,960
------------------------------------------------
TOTAL                                    797,337
GRAND TOTAL                              885,044
------------------------------------------------
BAYAR                                    797,337
KEMBALI                                        0
BAYAR                                     87,707
KEMBALI                                        0
------------------------------------------------
    Terima Kasih sudah berbelanja di sini ;)    ';

$text2x = "
------------------------------------------------
TOTAL                                    797,337
GRAND TOTAL                              885,044
------------------------------------------------
BAYAR                                    797,337
KEMBALI                                        0
BAYAR                                     87,707
KEMBALI                 333333333333333333333330
------------------------------------------------
################################################
------------------------------------------------
TOTAL                                    797,337
GRAND TOTAL                              885,044
------------------------------------------------
BAYAR                                    797,337
KEMBALI                                        0
BAYAR                                     87,707
KEMBALI                 333333333333333333333330
------------------------------------------------";
 
// print nota
$printer_name = "MINIPOS-80C";
//$printer_name = "EPSON L310 Series";
$printerHandler = printer_open($printer_name);

printer_set_option($printerHandler , PRINTER_PAPER_WIDTH, 80);
printer_set_option($printerHandler , PRINTER_PAPER_LENGTH, 3276);
printer_set_option($printerHandler , PRINTER_MODE, 'raw');
$feed_length = 76;
$_fontHeight = 30;
	$_fontWidth = 12;
	$_fontWeightNormal = 400; 
	$_fontWeightBold = 700;  

	$lineNumber = 0;  
 	$fontHeight = $_fontHeight;
		$fontWidth = $_fontWidth;
		$fontWeight = $_fontWeightNormal;

	 
$font = printer_create_font("Consolas", $fontHeight, $fontWidth, $fontWeight, false, false, false, 0);
printer_select_font($printerHandler, $font);

printer_start_doc($printerHandler, "My Document");
printer_start_page($printerHandler);
$text= explode("\n", $text2);
$result = array();
$index = 0;
foreach ($text as $line) {

	echo $line."\n";
	$txt = str_pad($index, 48, "-", STR_PAD_BOTH);
	$lineNumber += $fontHeight; 	
	printer_draw_text($printerHandler, $line, 0, $lineNumber);
	if($index > 0 && $index%$feed_length == 0){
		$lineNumber = 0;
		printer_end_page($printerHandler); 
		printer_start_page($printerHandler);
	}
	$index++;
}
 
printer_end_page($printerHandler); 
printer_end_doc($printerHandler);
printer_close($printerHandler);




 

?>